(this.webpackJsonppasaportedigital=this.webpackJsonppasaportedigital||[]).push([[0],{47:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),o=n(20),i=n.n(o),s=(n(47),n(13)),u=function(){return Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between",children:[Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("h1",{children:Object(r.jsx)(s.b,{to:"/",className:"text-light",children:"Pasaporte Digital"})})}),Object(r.jsx)(s.b,{to:"/usuarios/nuevo",className:"btn btn-danger nuevo-post d-block d-md-inline-block",children:"Nuevo Usuario +"})]})},l=n(5),d=n(11),b=n.n(d),j=n(19),p="AGREGAR_USUARIO",O="AGREGAR_USUARIO_EXITO",f="AGREGAR_USUARIO_ERROR",h="COMENZAR_OBTENER_USUARIOS",m="DESCARGA_USUARIOS_EXITO",x="DESCARGA_USUARIOS_ERROR",v="OBTENER_USUARIO_ELIMINAR",g="USUARIO_ELIMINADO_EXITO",y="USUARIO_ELIMINADO_ERROR",E="OBTENER_USUARIO_EDITAR",N="USUARIO_EDITADO_EXITO",w="USUARIO_EDITADO_ERROR",R="MOSTRAR_ALERTA",A="OCULTAR_ALERTA",U=n(39),_=n.n(U).a.create({baseURL:"http://localhost:4000/"}),S=n(15),I=n.n(S);var C=function(){return{type:p,payload:!0}},k=function(e){return{type:O,payload:e}},T=function(e){return{type:f,payload:e}};var D=function(){return{type:h,payload:!0}},L=function(e){return{type:m,payload:e}},B=function(){return{type:x,payload:!0}};var G=function(e){return{type:v,payload:e}},W=function(){return{type:g}},X=function(){return{type:y,payload:!0}};var M=function(e){return{type:E,payload:e}};var F=function(e){return{type:"COMENZAR_EDITAR_USUARIO",payload:e}},P=function(e){return{type:N,payload:e}},H=function(){return{type:w,payload:!0}},J=n(4),V=function(e){var t=e.usuario,n=t.nombre,a=t.cedula,c=t.id,o=Object(l.b)(),i=Object(J.f)(),s=function(e){I.a.fire({title:"Esta seguro?",text:"Un usuario que se elimina no se puede recuperar!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&o(function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(G(e)),t.prev=1,t.next=4,_.delete("/usuarios/".concat(e));case 4:n(W()),I.a.fire("Eliminado!","El usuario se elimin\xf3 correctamente.","success"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n(X());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}))},u=function(e){o(function(e){return function(t){t(M(e))}}(e)),i.push("/usuarios/editar/".concat(e.id))};return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:a}),Object(r.jsxs)("td",{className:"acciones",children:[Object(r.jsx)("button",{type:"button",onClick:function(){return u(t)},className:"btn btn-primary mr-2",children:"Editar"}),Object(r.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return s(c)},children:"Eliminar"})]})]})},Z=function(){var e=Object(l.b)();Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(D()),e.prev=1,e.next=4,_.get("/usuarios");case 4:n=e.sent,t(L(n.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(B());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(l.c)((function(e){return e.usuarios.usuarios})),n=Object(l.c)((function(e){return e.usuarios.error})),c=Object(l.c)((function(e){return e.usuarios.loading}));return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h2",{className:"text-center my-5",children:"Listado de Usuarios"}),n?Object(r.jsx)("p",{className:"font-weight-bold alert alert-danger text-center \r mt-4",children:"Hubo un error"}):null,c?Object(r.jsx)("p",{className:"text-center",children:"Cargando..."}):null,Object(r.jsxs)("table",{className:"table table-striped",children:[Object(r.jsx)("thead",{className:"bg-primary table-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Nombres"}),Object(r.jsx)("th",{scope:"col",children:"Cedula"}),Object(r.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(r.jsx)("tbody",{children:0===t.length?"No hay usuarios":t.map((function(e){return Object(r.jsx)(V,{usuario:e},e.id)}))})]})]})},q=n(18);var $=function(e){return{type:R,payload:e}};var z=function(){return{type:A}},K=function(e){var t=e.history,n=Object(a.useState)(""),c=Object(q.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(""),u=Object(q.a)(s,2),d=u[0],p=u[1],O=Object(l.c)((function(e){return e.usuarios.state})),f=Object(l.c)((function(e){return e.usuarios.error})),h=Object(l.c)((function(e){return e.alerta.alerta})),m=Object(l.b)(),x=function(e){return m(function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(C()),t.prev=1,t.next=4,_.post("/usuarios",e);case 4:n(k(e)),I.a.fire("Correcto","El Usuario con el id: ".concat(e.cedula," se creo correctamente"),"success"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),n(T(!0)),I.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.jsx)("div",{className:"row justify-content-center",children:Object(r.jsx)("div",{className:"col-md-8",children:Object(r.jsx)("div",{className:"card",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Agregar Nuevo Usuario"}),h?Object(r.jsx)("p",{className:h.classes,children:h.msg}):null,Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==o.trim()&&""!==d.trim())m((function(e){e(z())})),x({nombre:o,cedula:d}),t.push("/");else{m(function(e){return function(t){t($(e))}}({msg:"Campos Obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}},children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Nombres"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Usuario",name:"nombre",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Cedula"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Cedula",name:"cedula",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Agregar"})]}),O?Object(r.jsx)("p",{children:"Cargando.."}):null,f?Object(r.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un error"}):null]})})})})},Q=n(23),Y=n(3),ee=function(){var e=Object(J.f)(),t=Object(l.b)(),n=Object(a.useState)({nombre:"",cedula:""}),c=Object(q.a)(n,2),o=c[0],i=c[1],s=Object(l.c)((function(e){return e.usuarios.usuarioEditar}));Object(a.useEffect)((function(){i(s)}),[s]);var u=function(e){i(Object(Y.a)(Object(Y.a)({},o),{},Object(Q.a)({},e.target.name,e.target.value)))},d=o.nombre,p=o.cedula;return Object(r.jsx)("div",{className:"row justify-content-center",children:Object(r.jsx)("div",{className:"col-md-8",children:Object(r.jsx)("div",{className:"card",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Editar Usuario"}),Object(r.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t(function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F(e)),t.prev=1,t.next=4,_.put("/usuarios/".concat(e.id),e);case 4:n(P(e)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),n(H());case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(o)),e.push("/")},children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Nombres"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Usuario",name:"nombre",value:d,onChange:u})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Cedula"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Cedula",name:"cedula",value:p,onChange:u})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Guardar Cambios"})]})]})})})})},te=n(12),ne=n(40),re=n(41),ae={usuarios:[],error:null,loading:!1,usuarioEliminar:null,usuarioEditar:null},ce={alerta:null},oe=Object(te.c)({usuarios:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case p:return Object(Y.a)(Object(Y.a)({},e),{},{loading:t.payload});case O:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,usuarios:[].concat(Object(re.a)(e.usuarios),[t.payload])});case f:case x:case y:case w:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,error:t.payload});case m:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,error:null,usuarios:t.payload});case v:return Object(Y.a)(Object(Y.a)({},e),{},{usuarioEliminar:t.payload});case g:return Object(Y.a)(Object(Y.a)({},e),{},{usuarios:e.usuarios.filter((function(t){return t.id!==e.usuarioEliminar})),usuarioEliminar:null});case E:return Object(Y.a)(Object(Y.a)({},e),{},{usuarioEditar:t.payload});case N:return Object(Y.a)(Object(Y.a)({},e),{},{usuarioEditar:null,usuarios:e.usuarios.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(Y.a)(Object(Y.a)({},e),{},{alerta:t.payload});case A:return Object(Y.a)(Object(Y.a)({},e),{},{alerta:null});default:return e}}}),ie=Object(te.e)(oe,Object(te.d)(Object(te.a)(ne.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var se=function(){return Object(r.jsx)(s.a,{children:Object(r.jsxs)(l.a,{store:ie,children:[Object(r.jsx)(u,{}),Object(r.jsx)("div",{className:"container mt-5",children:Object(r.jsxs)(J.c,{children:[Object(r.jsx)(J.a,{exact:!0,path:"/",component:Z}),Object(r.jsx)(J.a,{exact:!0,path:"/usuarios/nuevo",component:K}),Object(r.jsx)(J.a,{exact:!0,path:"/usuarios/editar/:id",component:ee})]})})]})})},ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(se,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/passportDigital",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/passportDigital","/service-worker.js");ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):le(t,e)}))}}(),de()}},[[71,1,2]]]);
//# sourceMappingURL=main.86df6990.chunk.js.map