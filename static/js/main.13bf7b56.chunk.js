(this.webpackJsonppasaportedigital=this.webpackJsonppasaportedigital||[]).push([[0],{122:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),c=a.n(n),o=a(26),s=a.n(o),i=(a(89),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,133)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),c(e),o(e)}))},d=a(25),j=a(75),m=a(56),b=a(60),p=a.n(b),O=a(4),h="AGREGAR_USUARIO",f="AGREGAR_USUARIO_EXITO",x="AGREGAR_USUARIO_ERROR",g="COMENZAR_OBTENER_USUARIOS",v="DESCARGA_USUARIOS_EXITO",N="DESCARGA_USUARIOS_ERROR",y="OBTENER_USUARIO_ELIMINAR",w="USUARIO_ELIMINADO_EXITO",S="USUARIO_ELIMINADO_ERROR",C="OBTENER_USUARIO_EDITAR",R="USUARIO_EDITADO_EXITO",E="USUARIO_EDITADO_ERROR",I="LOGIN_EXITO",k="LOG_OUT",A="COMENZAR_OBTENER_USUARIOSLOGIN",U="OBTENER_USUARIOLOGIN_EXITO",T="OBTENER_USUARIOLOGIN_ERROR",_="MOSTRAR_ALERTA",D="OCULTAR_ALERTA",L="REGISTRO_USUARIO",P="REGISTRO_USUARIO_EXITO",F="REGISTRO_USUARIO_ERROR",G="CONSULTAR_PREGUNTAS",B="COMENZAR_OBTENER_PREGUNTAS",q="DESCARGA_PREGUNTAS_EXITO",M="DESCARGA_PREGUNTAS_ERROR",H="REGISTRO_CUESTIONARIO",X="REGISTRO_USUARIO_EXITO",W="REGISTRO_USUARIO_ERROR",z={login:null,error:null,usuario:[],loading:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(O.a)(Object(O.a)({},e),{},{login:t.payload});case k:return Object(O.a)(Object(O.a)({},e),{},{login:z});case A:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case U:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:!1,usuario:t.payload});case T:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload});default:return e}},J=a(50),V={usuarios:[],error:null,loading:!1,usuarioEliminar:null,usuarioEditar:null},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:case g:case h:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case f:case P:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,usuarios:[].concat(Object(J.a)(e.usuarios),[t.payload])});case x:case N:case S:case E:case F:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload});case v:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:null,usuarios:t.payload});case y:return Object(O.a)(Object(O.a)({},e),{},{usuarioEliminar:t.payload});case w:return Object(O.a)(Object(O.a)({},e),{},{usuarios:e.usuarios.filter((function(t){return t.id!==e.usuarioEliminar})),usuarioEliminar:null});case C:return Object(O.a)(Object(O.a)({},e),{},{usuarioEditar:t.payload});case R:return Object(O.a)(Object(O.a)({},e),{},{usuarioEditar:null,usuarios:e.usuarios.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},Q={alerta:null};var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(O.a)(Object(O.a)({},e),{},{alerta:t.payload});case D:return Object(O.a)(Object(O.a)({},e),{},{alerta:null});default:return e}},Y={questions:[],error:null,loading:!1,questionDelete:null,questionEdit:null},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case G:return e;case q:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:null,questions:t.payload});case M:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload});default:return e}},te={replies:[],error:null,loading:!1,repliesDelete:null,repliesEdit:null},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case X:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,replies:[].concat(Object(J.a)(e.replies),[t.payload])});case W:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload});default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{uid:t.payload.uid,name:t.payload.displayName};case k:return{};default:return e}};var ne=function(){var e=Object(d.c)({auth:function(){return{mock:!0}},form:Object(m.a)({key:"form",storage:p.a,debug:!0,blacklist:[""]},K),usuarios:Z,usuario:K,alerta:$,questions:ee,replies:ae,autho:re}),t=Object(d.e)(Object(m.a)({key:"root",debug:!0,storage:p.a,whitelist:["auth"]},e),Object(d.d)(Object(d.a)(j.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));console.log("initialState",t.getState());var a=Object(m.b)(t,null,(function(){console.log("restoredState",t.getState())}));return{store:t,persistor:a}},ce=a(7),oe=a(18),se=a(12),ie=a(13),le=a(11);function ue(e){return function(t){t(de(e))}}var de=function(e){return{type:_,payload:e}};function je(){return function(e){e(me())}}var me=function(){return{type:D}},be=a(6),pe=a.n(be),Oe=a(10),he=a(22),fe=a.n(he),xe={baseURL:"https://cafajardop-backendserver.herokuapp.com/"},ge=xe.baseURL,ve={get:function(e){return fe.a.get(ge+e).then((function(e){return e})).catch((function(e){console.log(e)}))},post:function(e,t){return fe.a.post(ge+e,t).then((function(e){return e})).catch((function(e){console.log(e)}))},put:function(e,t){return fe.a.put(ge+e,t).then((function(e){return e})).catch((function(e){console.log(e)}))},delete:function(e,t){return fe.a.delete(ge+e).then((function(e){return e})).catch((function(e){console.log(e)}))}},Ne=a(16),ye=a.n(Ne);var we=function(){return{type:A,payload:!1}},Se=function(e){return{type:U,payload:e}};var Ce=a.p+"static/media/logo-head-ecopetrol.887f3af5.png",Re=a.p+"static/media/ilustration-login.665f6019.png";var Ee=function(e){return Object(r.jsxs)("div",{className:"hidden-xs col-sm-8 col-md-8 col-lg-8 col-xl-9 col-full-height login-main-content",children:[Object(r.jsx)("img",{src:Ce,className:"img-fluid img-ecopetrol",alt:"logo ecopetrol"}),Object(r.jsxs)("div",{className:"row w-100 text-left-login ml-4",children:[Object(r.jsx)("div",{className:"col-12 mt-4",children:Object(r.jsx)("h3",{children:"Pasaporte Digital"})}),Object(r.jsx)("div",{className:"col-12",children:Object(r.jsx)("span",{children:"Por un acceso mas seguro para todos"})})]}),Object(r.jsx)("img",{src:Re,className:"img-fluid ilustration",alt:"ilustracion inicial"})]})};var Ie=function(e){return Object(r.jsxs)("div",{className:"dv-head-options",children:[Object(r.jsx)("span",{style:{textAlign:"center",marginInlineStart:"center"},children:e.title}),Object(r.jsx)("br",{}),Object(r.jsx)(oe.b,{to:"/"+e.linkUrl,type:"text",style:{textAlign:"center"},children:e.linkText})]})};var ke=function(e){return Object(r.jsxs)("div",{className:"col-sm-12 col-md-12 foot-image-login",children:[Object(r.jsx)("img",{src:Ce,className:"img-fluid img-ecopetrol",alt:"logo ecopetrol"}),Object(r.jsx)("img",{src:Re,className:"img-fluid mt-5",alt:"ilustracion inicial"})]})},Ae=function(e){var t=e.history,a=Object(n.useState)({email:"",Password:""}),o=Object(le.a)(a,2),s=o[0],i=o[1],l=s.email,u=s.Password,d=Object(n.useState)("password"),j=Object(le.a)(d,2),m=j[0],b=j[1],p=Object(ce.c)((function(e){return e.usuarios.state})),h=Object(ce.c)((function(e){return e.usuarios.error})),f=Object(ce.c)((function(e){return e.alerta.alerta})),x=Object(ce.c)((function(e){return e.usuario.usuario})),g=function(e){i(Object(O.a)(Object(O.a)({},s),{},Object(ie.a)({},e.target.name,e.target.value)))},v=Object(ce.b)(),N=function(e){return v(function(e){return function(){var t=Object(Oe.a)(pe.a.mark((function t(a){return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(we()),ve.post("loginpasaporte",e).then((function(e){e.data.ok?(a(Se(e.data)),localStorage.setItem("token",e.data.token),localStorage.setItem("menu",JSON.stringify(e.data.menu)),localStorage.setItem("usuario",JSON.stringify(e.data.usuario))):ye.a.fire({icon:"error",title:"Hubo un error al registrarse ".concat(e.data.err.message),text:"Hubo un error, intenta de nuevo"})})).catch((function(e){console.log("errror",e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("div",{className:"head-login",children:Object(r.jsxs)("div",{className:"row w-100 mt-3",children:[Object(r.jsx)("div",{className:"col-12 mt-5",children:Object(r.jsx)("h3",{children:"Pasaporte Digital"})}),Object(r.jsx)("div",{className:"col-12",children:Object(r.jsx)("span",{children:"Por un acceso mas seguro para todos"})})]})}),Object(r.jsxs)("div",{className:"container-fluid container-full-height",children:[Object(r.jsxs)("div",{className:"row row-full-height",children:[Object(r.jsx)(Ee,{}),Object(r.jsx)("div",{className:"contenedor-form-signin col-sm-4 col-md-4 col-lg-4 col-xl-3 col-full-height",children:Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===l.trim()||""===u.trim()){var a={msg:"".concat("Campos Obligatorios"),classes:"alert alert-danger text-center text-uppercase p3"};return v(ue(a)),void setTimeout((function(){v(je())}),3e3)}if(v(je()),N(Object(O.a)({},s)),localStorage.getItem("token")){if("ADMIN"===x.usuario.rol)return void t.push("/listadousuarios");t.push("/perfilusuario")}},className:"form-signin",autoComplete:"off",children:[Object(r.jsx)(Ie,{title:"\xbfNo tienes una cuenta?",linkText:"Registrese",linkUrl:"Registro"}),Object(r.jsx)("h5",{className:"h3 mb-3 mt-3",children:"Registrate en pasaporte digital"}),f?Object(r.jsx)("p",{className:f.classes,children:f.msg}):null,p?Object(r.jsx)("p",{children:"Cargando.."}):null," ",h?Object(r.jsxs)("p",{className:"alert alert-danger p2 mt-4 text-center",children:[" ","Hubo un error"," "]}):null,Object(r.jsxs)("div",{className:"text-left",children:[Object(r.jsx)("label",{htmlFor:"txt-user",children:"Correo electr\xf3nico"}),Object(r.jsx)("input",{id:"txt-user",type:"text",className:"form-control",placeholder:"alguien@example.com",name:"email",value:l,onChange:g}),Object(r.jsx)("label",{htmlFor:"txt-pass",children:"Contrase\xf1a"}),Object(r.jsxs)("div",{className:"input-group",id:"show_hide_password",children:[Object(r.jsx)("input",{id:"txt-pass",type:m,className:"form-control",placeholder:"Contrase\xf1a",name:"Password",value:u,onChange:g}),Object(r.jsx)("div",{className:"input-group-addon",children:Object(r.jsx)("a",{onClick:function(e){return b("password"===m?"text":"password")},children:Object(r.jsx)("i",{className:"password"===m?"fa fa-eye-slash":"fa fa-eye","aria-hidden":"true"})})})]})]}),Object(r.jsx)("button",{className:"btn btn-lg btn-login btn-block mb-2",type:"submit",children:"Ingresar"}),Object(r.jsx)("div",{className:"checkbox mb-3",children:Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",value:"remember-me"})," Recordar sesion"]})}),Object(r.jsx)("small",{className:"mt-5 mb-3 text-muted",children:"Al continuar usted acepta nuestras politicas de privacidad & t\xe9rminos de servicios"})]})})]}),Object(r.jsx)(ke,{})]})]})};var Ue=function(){return{type:h,payload:!0}},Te=function(e){return{type:f,payload:e}},_e=function(e){return{type:x,payload:e}};var De=function(){return{type:g,payload:!0}},Le=function(e){return{type:v,payload:e}},Pe=function(){return{type:N,payload:!0}};var Fe=function(e){return{type:y,payload:e}},Ge=function(){return{type:w}},Be=function(){return{type:S,payload:!0}};function qe(e){return function(t){t(Me(e))}}var Me=function(e){return{type:C,payload:e}};function He(e){return function(){var t=Object(Oe.a)(pe.a.mark((function t(a){return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Xe(e)),ve.put("usuariopasaporte/".concat(e._id),e).then((function(t){ye.a.fire("Actualizado!","El usuario se Actualizo correctamente.","success"),a(We(e))})).catch((function(e){console.log(e),a(ze())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Xe=function(e){return{type:"COMENZAR_EDITAR_USUARIO",payload:e}},We=function(e){return{type:R,payload:e}},ze=function(){return{type:E,payload:!0}};var Ke=function(){return{type:L,payload:!0}},Je=function(e){return{type:P,payload:e}},Ve=function(e){return{type:F,payload:e}},Ze=function(e){var t=e.history,a=xe.baseURL,o=Object(n.useState)(""),s=Object(le.a)(o,2),i=s[0],l=s[1],u=Object(n.useState)({nombreusuario:"",primernombre:"",segundonombre:"",primerapellido:"",segundoapellido:"",telefono:"",Password:"",rol:"USER",cedula:"",tipodocumento:"",email:"",direccion:"",direccion2:"",observacion:"",ingreso:!1}),d=Object(le.a)(u,2),j=d[0],m=d[1],b=Object(n.useState)("password"),p=Object(le.a)(b,2),h=p[0],f=p[1],x=Object(n.useState)("password"),g=Object(le.a)(x,2),v=g[0],N=g[1],y=j.email,w=j.Password,S=Object(n.useState)([]),C=Object(le.a)(S,2),R=C[0],E=C[1];Object(n.useEffect)((function(){(function(){var e=Object(Oe.a)(pe.a.mark((function e(){var t,r;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(a,"usuariopasaporte"),e.next=3,fe.a.get(t);case 3:r=e.sent,E(r.data.usuarios);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=Object(ce.c)((function(e){return e.usuarios.state})),k=Object(ce.c)((function(e){return e.usuarios.error})),A=Object(ce.c)((function(e){return e.alerta.alerta})),U=function(e){m(Object(O.a)(Object(O.a)({},j),{},Object(ie.a)({},e.target.name,e.target.value)))},T=Object(ce.b)(),_=function(e){return T(function(e){return function(){var t=Object(Oe.a)(pe.a.mark((function t(a){return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ke()),ve.post("usuariopasaporte",e).then((function(t){ye.a.fire("Correcto","Registro Exitoso Inicie Sesi\xf3n","success"),setTimeout((function(){a(Je(e))}),3e3)})).catch((function(e){console.log(e),a(Ve(!0)),ye.a.fire({icon:"error",title:"Hubo un error al registrarse",text:"Hubo un error, intenta de nuevo"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("div",{className:"head-login",children:Object(r.jsxs)("div",{className:"row w-100 mt-3",children:[Object(r.jsx)("div",{className:"col-12 mt-5",children:Object(r.jsx)("h3",{children:"Pasaporte Digital"})}),Object(r.jsx)("div",{className:"col-12",children:Object(r.jsx)("span",{children:"Por un acceso mas seguro para todos"})})]})}),Object(r.jsx)("div",{className:"container-fluid container-full-height",children:Object(r.jsxs)("div",{className:"row row-full-height",children:[Object(r.jsx)(Ee,{}),Object(r.jsx)("div",{className:"contenedor-form-signin col-sm-4 col-md-4 col-lg-4 col-xl-3 col-full-height",children:Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==y.trim()&&""!==w.trim()&&""!==i.trim()){if(w.trim()!==i.trim()){return T(ue({msg:"Las contrase\xf1as no coinciden",classes:"alert alert-danger text-center text-uppercase p3"})),void setTimeout((function(){T(je())}),3e3)}if(0!==R.filter((function(e){var t;return null===(t=e.email)||void 0===t?void 0:t.toLocaleLowerCase().includes(y.toLocaleLowerCase())})).length){return T(ue({msg:"El usuario ya existe inicie sesi\xf3n",classes:"alert alert-danger text-center text-uppercase p3"})),void setTimeout((function(){T(je()),t.push("/passportDigital")}),3e3)}T(je()),_(Object(O.a)({},j)),t.push("/passportDigital")}else{T(ue({msg:"Campos Obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}},className:"form-signin",autoComplete:"off",children:[Object(r.jsx)(Ie,{title:"\xbfTienes una cuenta?",linkText:"Iniciar Sesi\xf3n",linkUrl:"passportDigital"}),Object(r.jsx)("h5",{className:"h3 mb-3 mt-3",style:{fontSize:"12"},children:"Registrate en pasaporte digital"}),A?Object(r.jsx)("p",{className:A.classes,children:A.msg}):null,I?Object(r.jsx)("p",{children:"Cargando.."}):null," ",k?Object(r.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un error"}):null,Object(r.jsxs)("div",{className:"text-left",children:[Object(r.jsx)("label",{htmlFor:"txt-pass",children:"Correo electr\xf3nico"}),Object(r.jsx)("input",{id:"txt-pass",type:"text",className:"form-control",placeholder:"alguien@example.com",name:"email",value:y,onChange:U}),Object(r.jsx)("label",{htmlFor:"txt-pass2",children:"Contrase\xf1a"}),Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("input",{id:"txt-pass2",type:h,className:"form-control",placeholder:"Contrase\xf1a",name:"Password",value:w,onChange:U}),Object(r.jsx)("div",{className:"input-group-addon",children:Object(r.jsx)("a",{onClick:function(e){return f("password"===h?"text":"password")},children:Object(r.jsx)("i",{className:"password"===h?"fa fa-eye-slash":"fa fa-eye","aria-hidden":"true"})})})]}),Object(r.jsx)("label",{htmlFor:"txt-pass",children:"Repetir Contrase\xf1a"}),Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("input",{type:v,className:"form-control",placeholder:"Repetir Contrase\xf1a",name:"repetirconstrase\xf1a",value:i,onChange:function(e){return l(e.target.value)}}),Object(r.jsx)("div",{className:"input-group-addon",children:Object(r.jsx)("a",{onClick:function(e){return N("password"===v?"text":"password")},children:Object(r.jsx)("i",{className:"password"===v?"fa fa-eye-slash":"fa fa-eye","aria-hidden":"true"})})})]})]}),Object(r.jsx)("button",{className:"btn btn-lg btn-login btn-block mb-2",type:"submit",children:"Ingresar"}),Object(r.jsx)("div",{className:"checkbox mb-3",children:Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",value:"remember-me"})," Recordar sesion"]})}),Object(r.jsx)("small",{className:"mt-5 mb-3 text-muted",children:"Al continuar usted acepta nuestras politicas de privacidad & t\xe9rminos de servicios"})]})}),Object(r.jsx)(ke,{})]})})]})},Qe=a(40),$e=function(){Object(ce.b)()({type:"CONSULTA_LOGIN"});var e=Object(ce.c)((function(e){return e.usuario.usuario})),t=JSON.parse(localStorage.getItem("usuario"));return Object(r.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(r.jsx)(oe.b,{className:"navbar-brand",to:"/",children:"Pasaporte Digital"}),Object(r.jsx)("a",{className:"navbar-brand ",href:"#",children:Object(r.jsx)("img",{src:Ce,className:"rounded",width:"125",height:"35",alt:""})}),Object(r.jsx)("div",{className:"navbar-collapse",children:Object(r.jsxs)("div",{className:"navbar-nav",children:[Object(r.jsx)(oe.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/UsersScreen",children:"Reportes"}),Object(r.jsx)(oe.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/UsersScreen",children:"Documentaci\xf3n"})]})}),Object(r.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2",children:Object(r.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(r.jsx)("span",{className:"nav-item nav-link text-light",children:null===e?t.email:"".concat(t.email)}),Object(r.jsx)(oe.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/passportDigital",onClick:function(){return localStorage.removeItem("menu"),localStorage.removeItem("usuario"),void localStorage.removeItem("token")},children:" Cerrar Sesi\xf3n"})]})})]})},Ye=function(e){var t=e.usuario,a=e.guardarConsultar,n=t._id,c=(t.nombreusuario,t.primerapellido),o=t.segundoapellido,s=t.primernombre,i=t.segundonombre,l=t.cedula,u=t.tipodocumento,d=t.telefono,j=t.email,m=Object(ce.b)(),b=Object(se.f)(),p=Object(ce.c)((function(e){return e.usuario.usuario})),O=function(e){console.log(e),e!==p.usuario._id?ye.a.fire({title:"Esta seguro?",text:"Un usuario que se elimina no se puede recuperar!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&(a(!1),m(function(e){return function(){var t=Object(Oe.a)(pe.a.mark((function t(a){return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Fe(e)),ve.delete("usuariopasaporte/".concat(e)).then((function(e){a(Ge()),ye.a.fire("Eliminado!","El usuario se elimin\xf3 correctamente.","success")})).catch((function(e){console.log(e),a(Be())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)))})):ye.a.fire({icon:"error",title:"No se puede eliminar asi mismo",text:"Hubo un error"})};return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:[c," ",o]}),Object(r.jsxs)("td",{children:[s," ",i," "]}),Object(r.jsx)("td",{children:u}),Object(r.jsx)("td",{children:l}),Object(r.jsx)("td",{children:d}),Object(r.jsx)("td",{children:j}),Object(r.jsxs)("td",{className:"acciones",children:[Object(r.jsx)("button",{onClick:function(){return function(e){m(qe(e)),a(!1),b.push("/usuarios/editar/".concat(e._id))}(t)},className:"btn-ecopetrol",children:"Editar"}),Object(r.jsx)("button",{onClick:function(){return O(n)},className:"btn-ecopetrol",children:"Eliminar"})]})]})},et=function(){var e=xe.baseURL,t=Object(n.useState)(!1),a=Object(le.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)([]),i=Object(le.a)(s,2),l=i[0],u=i[1];Object(n.useEffect)((function(){(function(){var t=Object(Oe.a)(pe.a.mark((function t(){var a,r;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=7;break}return a="".concat(e,"usuariopasaporte"),t.next=4,fe.a.get(a);case 4:r=t.sent,u(r.data.usuarios),o(!0);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[c]);var d=Object(ce.c)((function(e){return e.usuarios.error})),j=Object(ce.c)((function(e){return e.usuarios.loading}));return Object(r.jsxs)(n.Fragment,{children:[Object(r.jsx)("h2",{className:"text-center mt-4",children:"Listado de Funcionarios"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"col-md-12 align-self-center text-right",children:Object(r.jsx)("div",{className:"mb-2",children:Object(r.jsx)(oe.b,{to:"/usuarios/nuevo",className:"btn btn-success btn-sm mr-2",children:"Agregar +"})})}),d?Object(r.jsx)("p",{className:"font-weight-bold alert alert-danger text-centermt-4",children:"Hubo un error"}):null,j?Object(r.jsx)("p",{className:"text-center",children:"Cargando..."}):null,Object(r.jsxs)("table",{className:"table table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Nombres"}),Object(r.jsx)("th",{scope:"col",children:"Apellidos"}),Object(r.jsx)("th",{scope:"col",children:"Documento Identidad"}),Object(r.jsx)("th",{scope:"col",children:"Cedula"}),Object(r.jsx)("th",{scope:"col",children:"Telefono"}),Object(r.jsx)("th",{scope:"col",children:"Correo"}),Object(r.jsx)("th",{scope:"col",children:"Acceso"})]})}),Object(r.jsx)("tbody",{children:0===l.length?Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:3,children:"No hay usuarios"})}):l.map((function(e){return Object(r.jsx)(Ye,{usuario:e,guardarConsultar:o},e._id)}))})]})]})};function tt(){var e=xe.baseURL,t=Object(n.useState)([]),a=Object(le.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(Oe.a)(pe.a.mark((function t(){var a,r;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(e,"tipodocumentoPasaporte"),t.next=3,fe.a.get(a);case 3:r=t.sent,c(r.data.tipodocumento);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),r}var at=function(){var e=Object(ce.b)(),t=Object(ce.c)((function(e){return e.usuario.usuario}));e(qe(t.usuario));var a=Object(n.useState)({_id:"",nombreusuario:"",primernombre:"",segundonombre:"",primerapellido:"",segundoapellido:"",telefono:"",rol:"",cedula:"",tipodocumento:"",email:"",direccion:"",direccion2:"",observacion:"",ingreso:""}),c=Object(le.a)(a,2),o=c[0],s=c[1],i=(o._id,o.nombreusuario),l=o.primernombre,u=o.segundonombre,d=o.primerapellido,j=o.segundoapellido,m=o.telefono,b=o.rol,p=o.cedula,h=o.tipodocumento,f=o.email,x=o.direccion,g=o.direccion2,v=(o.observacion,o.ingreso,tt()),N=Object(ce.c)((function(e){return e.usuarios.usuarioEditar}));Object(n.useEffect)((function(){s(N)}),[N]);var y=function(e){s(Object(O.a)(Object(O.a)({},o),{},Object(ie.a)({},e.target.name,e.target.value)))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"col-sm-12 order-sm-1",children:[Object(r.jsxs)("h2",{className:"mb-3 align-self-center text-center mt-4",children:[" ","Datos del Funcionario"," "]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(He(o))},autoComplete:"off",children:[Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-6",children:[Object(r.jsx)("label",{children:"Email"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Email",name:"email",value:f,onChange:y,disabled:!0})]}),Object(r.jsxs)("div",{className:"form-group col-sm-6",children:[Object(r.jsx)("label",{children:"Rol"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Rol",name:"rol",value:b,onChange:y,disabled:!0})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Primer Apellido"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Primer apellido",name:"primerapellido",value:d,onChange:y})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Segundo Apellido"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Segundo apellido",name:"segundoapellido",value:j,onChange:y})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Primer Nombre"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Primer nombre",name:"primernombre",value:l,onChange:y})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Segundo Nombre"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Segundo nombre",name:"segundonombre",value:u,onChange:y})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Documento de Identidad"}),Object(r.jsxs)("select",{type:"text",className:"form-control",name:"tipodocumento",value:h,onChange:y,children:[Object(r.jsx)("option",{value:"",children:"-- Seleccione --"}),v.map((function(e){return Object(r.jsx)("option",{value:e.tipodocumento,children:e.tipodocumento},e._id)}))]})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Cedula"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Cedula",name:"cedula",value:p,onChange:y})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Telefono"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Telefono",name:"telefono",value:m,onChange:y})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Usuario"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Usuario",name:"nombreusuario",value:i,onChange:y})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Direcci\xf3n"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Direccion",name:"direccion",value:x,onChange:y})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Direcci\xf3n 2"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Direccion2",name:"direccion2",value:g,onChange:y})]})]}),Object(r.jsx)("div",{className:"form-row mt-3",children:Object(r.jsx)("div",{className:"form-group mr-2",children:Object(r.jsx)("button",{type:"submit",className:"btn-ecopetrol",children:"Guardar"})})})]})]})})},rt=function(){var e=Object(ce.b)();Object(n.useEffect)((function(){e(function(){var e=Object(Oe.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(De()),ve.get("usuariopasaporte").then((function(e){t(Le(e.data.usuarios))})).catch((function(e){console.log(e),t(Pe())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());e({type:"CONSULTA_LOGIN"})}),[]);var t=Object(ce.c)((function(e){return e.form.login}));return Object(r.jsx)("div",{children:null==t?Object(r.jsx)("div",{children:"Cargando"}):"ADMIN"===t.rol?Object(r.jsx)(et,{}):Object(r.jsx)(at,{usuario:t},t.id)})},nt=a(14),ct=a.n(nt),ot=(a(117),a(38)),st=a(130),it=a(131),lt=a(129);var ut=function(e){return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)(ot.BrowserView,{children:[Object(r.jsxs)(ct.a,{onSelect:function(t){var a="/"+t;e.info.location.pathname!==a&&(document.getElementById("closeNav").click(),e.info.history.push(a))},children:[Object(r.jsx)(ct.a.Toggle,{id:"closeNav"}),Object(r.jsxs)(ct.a.Nav,{defaultSelected:"home",children:[Object(r.jsxs)(nt.NavItem,{eventKey:"home",children:[Object(r.jsx)(nt.NavIcon,{children:Object(r.jsx)("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.75em"}})}),Object(r.jsx)(nt.NavText,{children:"Home"})]}),Object(r.jsxs)(nt.NavItem,{eventKey:"charts",children:[Object(r.jsx)(nt.NavIcon,{children:Object(r.jsx)("i",{className:"fa fa-fw fa-line-chart",style:{fontSize:"1.75em"}})}),Object(r.jsx)(nt.NavText,{children:"Usuarios"}),Object(r.jsx)(nt.NavItem,{eventKey:"usuarios/nuevo",children:Object(r.jsx)(nt.NavText,{children:"Nuevo Usuario"})}),Object(r.jsx)(nt.NavItem,{eventKey:"timer",children:Object(r.jsx)(nt.NavText,{children:"Notificacion Timer"})})]}),Object(r.jsxs)(nt.NavItem,{eventKey:"iraForm",children:[Object(r.jsx)(nt.NavIcon,{children:Object(r.jsx)("i",{className:"fa fa-fw fa-user",style:{fontSize:"1.75em"}})}),Object(r.jsx)(nt.NavText,{children:"Formulario"})]}),Object(r.jsxs)(nt.NavItem,{eventKey:"passportDigital",children:[Object(r.jsx)(nt.NavIcon,{children:Object(r.jsx)("i",{className:"fa fa-fw fa-power-off",style:{fontSize:"1.75em"}})}),Object(r.jsx)(nt.NavText,{children:"Cerrar Sesion"})]})]})]}),e.children]}),Object(r.jsxs)(ot.MobileView,{children:[Object(r.jsxs)(st.a,{bg:"light",className:"bar-menu",expand:"lg",collapseOnSelect:!0,fixed:"top",children:[Object(r.jsx)(st.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsx)(st.a.Collapse,{id:"basic-navbar-nav",children:Object(r.jsxs)(it.a,{className:"mr-auto",children:[Object(r.jsx)(it.a.Link,{href:"passportDigital",children:"Home"}),Object(r.jsx)(it.a.Link,{href:"#",children:"Usuarios"}),Object(r.jsxs)(lt.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(r.jsx)(lt.a.Item,{href:"/usuarios/nuevo",children:"Nuevo Usuario"}),Object(r.jsx)(lt.a.Divider,{}),Object(r.jsx)(lt.a.Item,{href:"/timer",children:"Notificacion temporizador"})]}),Object(r.jsx)(it.a.Link,{href:"iraForm",children:"Formulario"}),Object(r.jsx)(it.a.Link,{href:"passportDigital",children:"Cerrar Sesion"})]})})]}),Object(r.jsx)("div",{style:{marginTop:"4rem"},children:e.children})]})]})};function dt(){var e=xe.baseURL,t=Object(n.useState)([]),a=Object(le.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(Oe.a)(pe.a.mark((function t(){var a,r;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(e,"rolpasaporte"),t.next=3,fe.a.get(a);case 3:r=t.sent,c(r.data.rol);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),r}var jt=function(e){var t,a=Object(se.f)(),c=Object(n.useState)(""),o=Object(le.a)(c,2),s=o[0],i=o[1],l=Object(n.useState)("password"),u=Object(le.a)(l,2),d=u[0],j=u[1],m=Object(n.useState)("password"),b=Object(le.a)(m,2),p=b[0],h=b[1],f=Object(n.useState)({nombreusuario:"",primernombre:"",segundonombre:"",primerapellido:"",segundoapellido:"",telefono:"",Password:"",rol:"",cedula:"",tipodocumento:"",email:"",direccion:"",direccion2:"",observacion:"",ingreso:!1}),x=Object(le.a)(f,2),g=x[0],v=x[1],N=g.nombreusuario,y=g.primernombre,w=g.segundonombre,S=g.primerapellido,C=g.segundoapellido,R=g.telefono,E=g.Password,I=g.rol,k=g.cedula,A=g.tipodocumento,U=g.email,T=g.direccion,_=g.direccion2,D=g.observacion,L=(g.ingreso,tt()),P=dt(),F=Object(ce.c)((function(e){return e.usuarios.state})),G=Object(ce.c)((function(e){return e.usuarios.error})),B=Object(ce.c)((function(e){return e.alerta.alerta})),q=function(e){v(Object(O.a)(Object(O.a)({},g),{},Object(ie.a)({},e.target.name,e.target.value)))},M=Object(ce.b)(),H=function(e){return M(function(e){return function(){var t=Object(Oe.a)(pe.a.mark((function t(a){return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ue()),ve.post("usuariopasaportenew",e).then((function(t){a(Te(e)),ye.a.fire("Correcto","El Usuario con el id: ".concat(e.cedula," se creo correctamente"),"success")})).catch((function(e){console.log(e),a(_e(!0)),ye.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.jsx)("div",{className:"row justify-content-center",children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsxs)("div",{className:"col-sm-12 order-sm-1",children:[Object(r.jsxs)("h2",{className:"mb-3 align-self-center text-center mt-4",children:[" ","Agregar Funcionario Externo"," "]}),Object(r.jsx)("hr",{}),B?Object(r.jsx)("p",{className:B.classes,children:B.msg}):null,Object(r.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""!==S.trim()&&""!==C.trim()&&""!==y.trim()&&""!==A.trim()&&""!==k.trim())E.trim()===s.trim()?(M(je()),H(Object(O.a)({},g)),e.info.history.push("/listadousuarios")):console.log("las contrase\xf1as deben ser iguales");else{M(ue({msg:"Campos Obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}},autoComplete:"off",children:[Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-6",children:[Object(r.jsx)("label",{children:"email"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Email",name:"email",value:U,onChange:q})]}),Object(r.jsxs)("div",{className:"form-group col-sm-6",children:[Object(r.jsx)("label",{children:"Rol"}),Object(r.jsxs)("select",{type:"text",className:"form-control",name:"rol",value:I,onChange:q,children:[Object(r.jsx)("option",{value:"",children:"-- Seleccione --"}),P.map((function(e){return Object(r.jsx)("option",{value:e.rol,children:e.rol},e._id)}))]})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Primer Apellido"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Primer apellido",name:"primerapellido",value:S,onChange:q})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Segundo Apellido"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Segundo apellido",name:"segundoapellido",value:C,onChange:q})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Primer Nombre"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Primer nombre",name:"primernombre",value:y,onChange:q})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Segundo Nombre"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Segundo nombre",name:"segundonombre",value:w,onChange:q})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Documento de Identidad"}),Object(r.jsxs)("select",{type:"text",className:"form-control",name:"tipodocumento",value:A,onChange:q,children:[Object(r.jsx)("option",{value:"",children:"-- Seleccione --"}),L.map((function(e){return Object(r.jsx)("option",{value:e.tipodocumento,children:e.tipodocumento},e._id)}))]})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Cedula"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Cedula",name:"cedula",value:k,onChange:q})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Telefono"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Telefono",name:"telefono",value:R,onChange:q})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Usuario"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Usuario",name:"nombreusuario",value:N,onChange:q})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Direcci\xf3n"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Direccion",name:"direccion",value:T,onChange:q})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Direcci\xf3n 2"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Direccion2",name:"direccion2",value:_,onChange:q})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-6",children:[Object(r.jsx)("label",{htmlFor:"txt-pass2",children:"Asigne una Contrase\xf1a"}),Object(r.jsx)("input",{id:"txt-pass2",type:d,className:"form-control",placeholder:"Contrase\xf1a",name:"Password",value:E,onChange:q}),Object(r.jsx)("div",{className:"input-group-addon",children:Object(r.jsx)("a",{onClick:function(e){return j("password"===d?"text":"password")},children:Object(r.jsx)("i",{className:"password"===d?"fa fa-eye-slash":"fa fa-eye","aria-hidden":"true"})})})]}),Object(r.jsxs)("div",{className:"form-group col-sm-6",children:[Object(r.jsx)("label",{htmlFor:"txt-pass",children:"Repetir Contrase\xf1a"}),Object(r.jsx)("input",{type:p,className:"form-control",placeholder:"Repetir Contrase\xf1a",name:"repetirconstrase\xf1a",value:s,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("div",{className:"input-group-addon",children:Object(r.jsx)("a",{onClick:function(e){return h("password"===p?"text":"password")},children:Object(r.jsx)("i",{className:"password"===p?"fa fa-eye-slash":"fa fa-eye","aria-hidden":"true"})})})]})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Observaciones"}),Object(r.jsx)("textarea",(t={className:"form-control",rows:"4"},Object(ie.a)(t,"className","form-control"),Object(ie.a)(t,"name","observacion"),Object(ie.a)(t,"value",D),Object(ie.a)(t,"onChange",q),t))]}),Object(r.jsxs)("div",{className:"form-row mt-3",children:[Object(r.jsx)("div",{className:"form-group mr-2",children:Object(r.jsx)("button",{type:"submit",className:"btn-ecopetrol",children:"Guardar"})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("button",{onClick:function(){a.push("/listadousuarios")},className:"btn-ecopetrol",children:"Cancelar"})})]})]}),F?Object(r.jsx)("p",{children:"Cargando.."}):null,G?Object(r.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un error"}):null]})})})},mt=function(){var e,t=Object(se.f)(),a=Object(ce.b)(),c=Object(n.useState)({ingreso:"",nombreusuario:"",rol:"",primerapellido:"",segundoapellido:"",primernombre:"",segundonombre:"",cedula:"",tipodocumento:"",telefono:"",email:"",direccion:"",direccion2:"",observacion:""}),o=Object(le.a)(c,2),s=o[0],i=o[1],l=s.nombreusuario,u=s.rol,d=s.primerapellido,j=s.segundoapellido,m=s.primernombre,b=s.segundonombre,p=s.cedula,h=s.tipodocumento,f=s.telefono,x=s.email,g=s.direccion,v=s.direccion2,N=s.observacion,y=tt(),w=dt(),S=Object(ce.c)((function(e){return e.usuarios.usuarioEditar}));Object(n.useEffect)((function(){i(S)}),[S]);var C=function(e){i(Object(O.a)(Object(O.a)({},s),{},Object(ie.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)("div",{className:"col-sm-12 order-sm-1",children:[Object(r.jsx)("h2",{className:"mb-3 align-self-center text-center mt-4",children:"Datos del Funcionario"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(He(s)),t.push("/listadousuarios")},autoComplete:"off",children:[Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-6",children:[Object(r.jsx)("label",{children:"email"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Email",name:"email",value:x,onChange:C,disabled:!0})]}),Object(r.jsxs)("div",{className:"form-group col-sm-6",children:[Object(r.jsx)("label",{children:"Rol"}),Object(r.jsxs)("select",{type:"text",className:"form-control",name:"rol",value:u,onChange:C,children:[Object(r.jsx)("option",{value:"",children:"-- Seleccione --"}),w.map((function(e){return Object(r.jsx)("option",{value:e.rol,children:e.rol},e._id)}))]})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Primer Apellido"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Primer apellido",name:"primerapellido",value:d,onChange:C})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Segundo Apellido"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Segundo apellido",name:"segundoapellido",value:j,onChange:C})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Primer Nombre"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Primer nombre",name:"primernombre",value:m,onChange:C})]}),Object(r.jsxs)("div",{className:"form-group col-sm-3",children:[Object(r.jsx)("label",{children:"Segundo Nombre"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Segundo nombre",name:"segundonombre",value:b,onChange:C})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Documento de Identidad"}),Object(r.jsxs)("select",{type:"text",className:"form-control",name:"tipodocumento",value:h,onChange:C,children:[Object(r.jsx)("option",{value:"",children:"-- Seleccione --"}),y.map((function(e){return Object(r.jsx)("option",{value:e.tipodocumento,children:e.tipodocumento},e._id)}))]})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Cedula"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Cedula",name:"cedula",value:p,onChange:C})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Telefono"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Telefono",name:"telefono",value:f,onChange:C})]})]}),Object(r.jsxs)("div",{className:"form-row",children:[Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Usuario"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Usuario",name:"nombreusuario",value:l,onChange:C})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Direcci\xf3n"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Direccion",name:"direccion",value:g,onChange:C})]}),Object(r.jsxs)("div",{className:"form-group col-sm-4",children:[Object(r.jsx)("label",{children:"Direcci\xf3n 2"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Direccion2",name:"direccion2",value:v,onChange:C})]})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Observaciones"}),Object(r.jsx)("textarea",(e={className:"form-control",rows:"4"},Object(ie.a)(e,"className","form-control"),Object(ie.a)(e,"name","observacion"),Object(ie.a)(e,"value",N),Object(ie.a)(e,"onChange",C),e))]}),Object(r.jsxs)("div",{className:"form-row mt-3",children:[Object(r.jsx)("div",{className:"form-group mr-2",children:Object(r.jsx)("button",{type:"submit",className:"btn-ecopetrol",children:"Guardar"})}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("button",{onClick:function(){t.push("/listadousuarios")},className:"btn-ecopetrol",children:"Cancelar"})})]})]})]})},bt=a(41);a(122);var pt=a(47),Ot=a(48),ht=a(51),ft=a(49),xt=a(54),gt=(a(123),a(132));xt.StylesManager.applyTheme("bootstrap");var vt=function(e){Object(ht.a)(a,e);var t=Object(ft.a)(a);function a(){return Object(pt.a)(this,a),t.apply(this,arguments)}return Object(Ot.a)(a,[{key:"render",value:function(){var e=new xt.Model(this.props.questions);e.completeText="Finalizar",e.completedHtml="<span>Encuesta finalizada correctamente</span>";var t=this.props.handleSetAnswers;return void 0!==this.props.questions&&void 0!==this.props.questions.questions&&this.props.questions.questions.length>0&&(this.props.questions.questions.filter((function(e){return"radiogroup"===e.type})).forEach((function(t){e.getQuestionByName(t.name).colCount=1})),e.render()),e.onComplete.add((function(e){console.log(e.data),t(e.data)})),Object(r.jsxs)(gt.a,{className:"mt-4",children:[Object(r.jsx)(gt.a.Header,{children:"Formulario Ira para Covid 19"}),Object(r.jsx)(gt.a.Body,{children:Object(r.jsx)(xt.Survey,{model:e})})]})}}]),a}(n.Component);var Nt=function(){return{type:B,payload:!0}},yt=function(e){return{type:q,payload:e}},wt=function(){return{type:M,payload:!0}};var St=function(){return{type:H,payload:!0}},Ct=function(e){return{type:X,payload:e}},Rt=function(e){return{type:W,payload:e}},Et=function(e){var t=e.db,a=Object(ce.b)();Object(n.useEffect)((function(){return a(function(){var e=Object(Oe.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Nt()),ve.get("questions").then((function(e){t(yt(e.data))})).catch((function(e){console.log(e),t(wt())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.version(1).stores({formData:"id,value"}),t.transaction("rw",t.formData,Object(Oe.a)(pe.a.mark((function e(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.formData.get("replies");case 2:if(e.sent){e.next=6;break}return e.next=6,t.formData.add({id:"replies",value:{}});case 6:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e.stack||e)})),function(){return t.close()}}),[t]);var c=Object(ce.c)((function(e){return e.questions.questions}));return Object(r.jsx)(vt,{handleSetAnswers:function(e){var r;t.formData.put({id:"replies",value:e}),a((r=e,function(){var e=Object(Oe.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(St()),ve.post("respuestas",r).then((function(e){t(Ct(r)),ye.a.fire("Correcto","Las respuestas diligenciadas se crearon correctamente correctamente","success")})).catch((function(e){console.log(e),t(Rt(!0)),ye.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},questions:c})},It=a(55),kt=function(e){Object(ht.a)(a,e);var t=Object(ft.a)(a);function a(e){var r;return Object(pt.a)(this,a),(r=t.call(this,e)).start=Object(Oe.a)(pe.a.mark((function e(){var t,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Notification"in window&&"serviceWorker"in navigator){e.next=2;break}return e.abrupt("return",alert("Tu browser no soporta notificaciones"));case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("blocked"!==Notification.permission){e.next=7;break}return e.abrupt("return",alert("Bloqueaste las notificaciones :("));case 7:if("granted"===Notification.permission){e.next=9;break}return e.abrupt("return");case 9:t=r.state.timer,r.setState({timeLeft:t}),a=setInterval((function(){t-=1,r.setState({timeLeft:t}),t<=0&&(clearInterval(a),r.showNotification())}),1e3);case 12:case"end":return e.stop()}}),e)}))),r.showNotification=Object(Oe.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.getRegistration();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",alert("No hay un Service Worker :("));case 5:t.showNotification("Prueba notificacion!",{body:"Te mantendremos informado siempre",img:"/icon.png"});case 6:case"end":return e.stop()}}),e)}))),r.handleChange=function(e){r.setState({timer:e.target.value})},r.state={timer:3,timeLeft:0},r}return Object(Ot.a)(a,[{key:"render",value:function(){var e=this.state,t=e.timer,a=e.timeLeft;return Object(r.jsxs)("div",{className:"Timer",children:[Object(r.jsx)("div",{className:"name",children:"Timer"}),0===a?Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("input",{type:"number",min:"0",max:"999",step:"1",value:t,onChange:this.handleChange}),Object(r.jsx)("button",{onClick:this.start,children:"Start"})]}):Object(r.jsxs)("div",{className:"timeLeft",children:[a,"s"]})]})}}]),a}(c.a.Component);function At(){var e=Object(Qe.a)(["  \n  grid-area: main;\n  margin: 50px 25px 0 25px;  \n"]);return At=function(){return e},e}function Ut(){var e=Object(Qe.a)(["  \n  grid-area: header;\n"]);return Ut=function(){return e},e}function Tt(){var e=Object(Qe.a)(["  \n  grid-area: sidebar;\n"]);return Tt=function(){return e},e}function _t(){var e=Object(Qe.a)(['{\n  height:auto;\n  display: grid;  \n  grid-template-areas:\n    "sidebar header"\n    "sidebar main";\n  grid-template-rows: 10px 1fr;\n  grid-template-columns: 60px 1fr;\n}']);return _t=function(){return e},e}var Dt=bt.a.div(_t()),Lt=bt.a.div(Tt()),Pt=bt.a.div(Ut()),Ft=bt.a.div(At()),Gt=function(){return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsxs)(Dt,{children:[Object(r.jsx)(Pt,{children:Object(r.jsx)(ot.BrowserView,{children:Object(r.jsx)($e,{})})}),Object(r.jsx)(Lt,{}),Object(r.jsx)(Ft,{children:Object(r.jsxs)(se.c,{children:[Object(r.jsx)(se.a,{exact:!0,path:"/",render:function(e){return Object(r.jsxs)(ut,{info:e,toggleMenu:"true",children:[" "," ",Object(r.jsx)(rt,{info:e})," "," "]})}}),Object(r.jsx)(se.a,{exact:!0,path:"/usuarios/nuevo",render:function(e){return Object(r.jsxs)(ut,{info:e,toggleMenu:"true",children:[" ",Object(r.jsx)(jt,{info:e})," "]})}}),Object(r.jsx)(se.a,{exact:!0,path:"/usuarios/editar/:id",render:function(e){return Object(r.jsxs)(ut,{info:e,toggleMenu:"true",children:[" ",Object(r.jsx)(mt,{info:e})," "]})}}),Object(r.jsx)(se.a,{exact:!0,path:"/iraForm",render:function(e){return Object(r.jsxs)(ut,{info:e,toggleMenu:"true",children:[" ",Object(r.jsx)(Et,{db:new It.a("FormDatabase")})," "]})}}),Object(r.jsx)(se.a,{exact:!0,path:"/perfilusuario",render:function(e){return Object(r.jsxs)(ut,{info:e,toggleMenu:"true",children:[" ",Object(r.jsx)(at,{db:new It.a("FormDatabase")})," "]})}}),Object(r.jsx)(se.a,{exact:!0,path:"/listadousuarios",render:function(e){return Object(r.jsxs)(ut,{info:e,toggleMenu:"true",children:[" ",Object(r.jsx)(et,{db:new It.a("FormDatabase")})," "]})}}),Object(r.jsx)(se.a,{exact:!0,path:"/timer",component:kt})]})})]})})},Bt=function(){return Object(r.jsx)(oe.a,{children:Object(r.jsxs)(se.c,{children:[Object(r.jsx)(se.a,{exact:!0,path:"/passportDigital",component:Ae}),Object(r.jsx)(se.a,{exact:!0,path:"/Registro",component:Ze}),Object(r.jsx)(se.a,{path:"/",render:function(e){return Object(r.jsx)(Gt,{info:e})}})]})})},qt=ne().store;var Mt=function(){return Object(r.jsx)(ce.a,{store:qt,children:Object(r.jsx)(Bt,{})})};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Mt,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/passportDigital",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/passportDigital","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):l(t,e)}))}}(),u()},89:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.13bf7b56.chunk.js.map