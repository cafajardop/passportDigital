(this.webpackJsonppasaportedigital=this.webpackJsonppasaportedigital||[]).push([[0],{58:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),o=n(24),i=n.n(o),s=(n(58),n(11)),u=n(17),l=function(){return Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark justify-content-between",children:[Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("h1",{children:Object(r.jsx)(u.b,{to:"/",className:"text-black",children:"Pasaporte Digital"})})}),Object(r.jsx)(u.b,{to:"/usuarios/nuevo",className:"btn btn-danger nuevo-post d-block d-md-inline-block",children:"Nuevo Usuario +"})]})},j=n(4),d=n(12),b=n.n(d),f=n(19),O="AGREGAR_USUARIO",h="AGREGAR_USUARIO_EXITO",m="AGREGAR_USUARIO_ERROR",p="COMENZAR_OBTENER_USUARIOS",x="DESCARGA_USUARIOS_EXITO",v="DESCARGA_USUARIOS_ERROR",g="OBTENER_USUARIO_ELIMINAR",y="USUARIO_ELIMINADO_EXITO",N="USUARIO_ELIMINADO_ERROR",w="OBTENER_USUARIO_EDITAR",E="USUARIO_EDITADO_EXITO",R="USUARIO_EDITADO_ERROR",S="LOGIN_EXITO",A="MOSTRAR_ALERTA",U="OCULTAR_ALERTA",C=n(23),I=n.n(C),_={baseURL:"http://localhost:4000/"}.baseURL,T={get:function(e){return I.a.get(_+e).then((function(e){return e})).catch((function(e){console.log(e)}))},post:function(e,t){return I.a.post(_+e,t).then((function(e){return e})).catch((function(e){console.log(e)}))},put:function(e,t){return I.a.put(_+e,t).then((function(e){return e})).catch((function(e){console.log(e)}))},delete:function(e,t){return I.a.put(_+e,t).then((function(e){return e})).catch((function(e){console.log(e)}))}},k=n(21),D=n.n(k);var L=function(){return{type:O,payload:!0}},B=function(e){return{type:h,payload:e}},F=function(e){return{type:m,payload:e}};var G=function(){return{type:p,payload:!0}},X=function(e){return{type:x,payload:e}},W=function(){return{type:v,payload:!0}};var M=function(e){return{type:g,payload:e}},H=function(){return{type:y}},K=function(){return{type:N,payload:!0}};var P=function(e){return{type:w,payload:e}};var z=function(e){return{type:"COMENZAR_EDITAR_USUARIO",payload:e}},J=function(e){return{type:E,payload:e}},V=function(){return{type:R,payload:!0}},Z=n(5),q=function(e){var t=e.usuario,n=t.nombre,a=t.cedula,c=t.id,o=Object(j.b)(),i=Object(Z.f)(),s=function(e){D.a.fire({title:"Esta seguro?",text:"Un usuario que se elimina no se puede recuperar!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&o(function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(M(e)),T.delete("usuarios/".concat(e)).then((function(e){n(H()),D.a.fire("Eliminado!","El usuario se elimin\xf3 correctamente.","success")})).catch((function(e){console.log(e),n(K())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}))},u=function(e){o(function(e){return function(t){t(P(e))}}(e)),i.push("/usuarios/editar/".concat(e.id))};return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:a}),Object(r.jsxs)("td",{className:"acciones",children:[Object(r.jsx)("button",{type:"button",onClick:function(){return u(t)},className:"btn btn-primary mr-2",children:"Editar"}),Object(r.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return s(c)},children:"Eliminar"})]})]})},Y=function(){var e=Object(j.b)();Object(a.useEffect)((function(){e(function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(G()),T.get("usuarios").then((function(e){t(X(e.data))})).catch((function(e){console.log(e),t(W())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(j.c)((function(e){return e.usuarios.usuarios})),n=Object(j.c)((function(e){return e.usuarios.error})),c=Object(j.c)((function(e){return e.usuarios.loading}));return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h2",{className:"text-center my-5",children:"Listado de Usuarios"}),n?Object(r.jsx)("p",{className:"font-weight-bold alert alert-danger text-center mt-4",children:"Hubo un error"}):null,c?Object(r.jsx)("p",{className:"text-center",children:"Cargando..."}):null,Object(r.jsxs)("table",{className:"table table-striped",children:[Object(r.jsx)("thead",{className:"bg-primary table-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Nombres"}),Object(r.jsx)("th",{scope:"col",children:"Cedula"}),Object(r.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(r.jsx)("tbody",{children:0===t.length?Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:3,children:"No hay usuarios"})}):t.map((function(e){return Object(r.jsx)(q,{usuario:e},e.id)}))})]})]})};function $(e){return function(t){t(Q(e))}}var Q=function(e){return{type:A,payload:e}};function ee(){return function(e){e(te())}}var te=function(){return{type:U}},ne=function(e){console.log("propiedades"),console.log(e);var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),u=Object(s.a)(i,2),l=u[0],d=u[1],O=Object(j.c)((function(e){return e.usuarios.state})),h=Object(j.c)((function(e){return e.usuarios.error})),m=Object(j.c)((function(e){return e.alerta.alerta})),p=Object(j.b)(),x=function(e){return p(function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(L()),T.post("usuarios",e).then((function(t){n(B(e)),D.a.fire("Correcto","El Usuario con el id: ".concat(e.cedula," se creo correctamente"),"success")})).catch((function(e){console.log(e),n(F(!0)),D.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.jsx)("div",{className:"row justify-content-center",children:Object(r.jsx)("div",{className:"col-md-8",children:Object(r.jsx)("div",{className:"card",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Agregar Nuevo Usuario"}),m?Object(r.jsx)("p",{className:m.classes,children:m.msg}):null,Object(r.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""!==c.trim()&&""!==l.trim())p(ee()),x({nombre:c,cedula:l}),e.info.history.push("/");else{p($({msg:"Campos Obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}},children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Nombres"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Usuario",name:"nombre",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Cedula"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Cedula",name:"cedula",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Agregar"})]}),O?Object(r.jsx)("p",{children:"Cargando.."}):null,h?Object(r.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un error yyyy"}):null]})})})})},re=n(20),ae=n(3),ce=function(){var e=Object(Z.f)(),t=Object(j.b)(),n=Object(a.useState)({nombre:"",cedula:""}),c=Object(s.a)(n,2),o=c[0],i=c[1],u=Object(j.c)((function(e){return e.usuarios.usuarioEditar}));Object(a.useEffect)((function(){i(u)}),[u]);var l=function(e){i(Object(ae.a)(Object(ae.a)({},o),{},Object(re.a)({},e.target.name,e.target.value)))},d=o.nombre,O=o.cedula;return Object(r.jsx)("div",{className:"row justify-content-center",children:Object(r.jsx)("div",{className:"col-md-8",children:Object(r.jsx)("div",{className:"card",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Editar Usuario"}),Object(r.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t(function(e){return function(){var t=Object(f.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(z(e)),T.put("usuarios/".concat(e.id),e).then((function(t){n(J(e))})).catch((function(e){console.log(e),n(V())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(o)),e.push("/")},children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Nombres"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Usuario",name:"nombre",value:d,onChange:l})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Cedula"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Cedula",name:"cedula",value:O,onChange:l})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Guardar Cambios"})]})]})})})})},oe=n(45);function ie(e){return function(t){t(se(e))}}var se=function(e){return{type:S,payload:e}};function ue(){var e=Object(oe.a)(["\n  max-width: 700px;\n  margin: 0 auto;\n  margin-top: 200px;\n  @media (min-width: 992px) {\n    display: grid;\n    grid-template-columns: 1fr;\n    column-gap: 2rem;\n}"]);return ue=function(){return e},e}var le=n(46).a.div(ue()),je=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(s.a)(o,2),u=i[0],l=i[1],d=Object(j.c)((function(e){return e.usuarios.state})),b=Object(j.c)((function(e){return e.usuarios.error})),f=Object(j.c)((function(e){return e.alerta.alerta})),O=Object(j.b)();return Object(r.jsx)(le,{children:Object(r.jsx)("div",{className:"row justify-content-center",children:Object(r.jsx)("div",{className:"col-md-8",children:Object(r.jsx)("div",{className:"card",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Login"}),f?Object(r.jsx)("p",{className:f.classes,children:f.msg}):null,Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===n.trim()||""===u.trim()){return O($({msg:"Campos Obligatorios",classes:"alert alert-danger text-center text-uppercase p3"})),void O(ie(!0))}O(ee()),O(ie(!1))},children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Usuario y/o Correo"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Usuario",name:"nombre",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Cedula"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Cedula",name:"cedula",value:u,onChange:function(e){return l(e.target.value)}})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Ingresar"})]}),d?Object(r.jsx)("p",{children:"Cargando.."}):null,b?Object(r.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un error"}):null]})})})})})},de=n(7),be=n.n(de);n(85);var fe=function(e){return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)(be.a,{onSelect:function(t){var n="/"+t;e.info.location.pathname!==n&&e.info.history.push(n)},children:[Object(r.jsx)(be.a.Toggle,{}),Object(r.jsxs)(be.a.Nav,{defaultSelected:"home",children:[Object(r.jsxs)(de.NavItem,{eventKey:"home",children:[Object(r.jsx)(de.NavIcon,{children:Object(r.jsx)("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.75em"}})}),Object(r.jsx)(de.NavText,{children:"Home"})]}),Object(r.jsxs)(de.NavItem,{eventKey:"charts",children:[Object(r.jsx)(de.NavIcon,{children:Object(r.jsx)("i",{className:"fa fa-fw fa-line-chart",style:{fontSize:"1.75em"}})}),Object(r.jsx)(de.NavText,{children:"Charts"}),Object(r.jsx)(de.NavItem,{eventKey:"charts/linechart",children:Object(r.jsx)(de.NavText,{children:"Line Chart"})}),Object(r.jsx)(de.NavItem,{eventKey:"charts/barchart",children:Object(r.jsx)(de.NavText,{children:"Bar Chart"})})]}),Object(r.jsxs)(de.NavItem,{eventKey:"iraForm",children:[Object(r.jsx)(de.NavIcon,{children:Object(r.jsx)("i",{className:"fa fa-fw fa-line-chart",style:{fontSize:"1.75em"}})}),Object(r.jsx)(de.NavText,{children:"Formulario"})]})]})]}),e.children]})},Oe=n(32),he=function(e){var t=e.db,n=Object(a.useState)({firstname:"",lastname:""}),c=Object(s.a)(n,2),o=c[0],i=c[1];Object(a.useEffect)((function(){return t.version(1).stores({formData:"id,value"}),t.transaction("rw",t.formData,Object(f.a)(b.a.mark((function e(){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.formData.get("firstname");case 2:return n=e.sent,e.next=5,t.formData.get("lastname");case 5:if(r=e.sent,n){e.next=9;break}return e.next=9,t.formData.add({id:"firstname",value:""});case 9:if(r){e.next=12;break}return e.next=12,t.formData.add({id:"lastname",value:""});case 12:i({firstname:n?n.value:"",lastname:r?r.value:""});case 13:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e.stack||e)})),function(){return t.close()}}),[t]);var u=function(e){return function(n){t.formData.put({id:e,value:n}),i((function(t){return Object(ae.a)(Object(ae.a)({},t),{},Object(re.a)({},e,n))}))}},l=function(e){return function(t){return u(e)(t.target.value)}};return Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u("firstname")(""),u("lastname")("")},children:[Object(r.jsx)("span",{children:"Nombre:"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"firstname",value:o.firstname,onChange:l("firstname")}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{children:"Apellido:"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"lastname",value:o.lastname,onChange:l("lastname")}),Object(r.jsx)("br",{}),Object(r.jsx)(Oe.Online,{children:Object(r.jsx)("input",{type:"submit",value:"Submit"})}),Object(r.jsx)(Oe.Offline,{children:"You are currently offline!"})]})},me=n(50),pe=n(16),xe=n(51),ve=n(52),ge={usuarios:[],error:null,loading:!1,usuarioEliminar:null,usuarioEditar:null},ye={alerta:null};var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(ae.a)(Object(ae.a)({},e),{},{alerta:t.payload});case U:return Object(ae.a)(Object(ae.a)({},e),{},{alerta:null});default:return e}},we={login:null},Ee=Object(pe.c)({usuarios:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:case O:return Object(ae.a)(Object(ae.a)({},e),{},{loading:t.payload});case h:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,usuarios:[].concat(Object(ve.a)(e.usuarios),[t.payload])});case m:case v:case N:case R:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:t.payload});case x:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:null,usuarios:t.payload});case g:return Object(ae.a)(Object(ae.a)({},e),{},{usuarioEliminar:t.payload});case y:return Object(ae.a)(Object(ae.a)({},e),{},{usuarios:e.usuarios.filter((function(t){return t.id!==e.usuarioEliminar})),usuarioEliminar:null});case w:return Object(ae.a)(Object(ae.a)({},e),{},{usuarioEditar:t.payload});case E:return Object(ae.a)(Object(ae.a)({},e),{},{usuarioEditar:null,usuarios:e.usuarios.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:Ne,login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(ae.a)(Object(ae.a)({},e),{},{login:t.payload});default:return e}}}),Re=Object(pe.e)(Ee,Object(pe.d)(Object(pe.a)(xe.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var Se=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0];return t[1],Object(r.jsx)(u.a,{children:Object(r.jsx)(j.a,{store:Re,children:n?Object(r.jsx)(je,{}):Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(l,{}),Object(r.jsx)("div",{className:"container mt-5",children:Object(r.jsxs)(Z.c,{children:[Object(r.jsx)(Z.a,{exact:!0,path:"/",render:function(e){return Object(r.jsxs)(fe,{info:e,children:[" ",Object(r.jsx)(Y,{info:e})," "]})}}),Object(r.jsx)(Z.a,{exact:!0,path:"/usuarios/nuevo",render:function(e){return Object(r.jsxs)(fe,{info:e,children:[" ",Object(r.jsx)(ne,{info:e})," "]})}}),Object(r.jsx)(Z.a,{exact:!0,path:"/usuarios/editar/:id",render:function(e){return Object(r.jsxs)(fe,{info:e,children:[" ",Object(r.jsx)(ce,{info:e})," "]})}}),Object(r.jsx)(Z.a,{exact:!0,path:"/iraForm",render:function(e){return Object(r.jsxs)(fe,{info:e,children:[" ",Object(r.jsx)(he,{db:new me.a("FormDatabase")})," "]})}})]})})]})})})},Ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ue(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Se,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/passportDigital",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/passportDigital","/service-worker.js");Ae?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ue(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ue(t,e)}))}}(),Ce()}},[[86,1,2]]]);
//# sourceMappingURL=main.d21b7105.chunk.js.map